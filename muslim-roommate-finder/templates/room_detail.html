{% extends "base.html" %}

{% load static %}

{% block title %}{{ room.title }} - Muslim Roommate Finder{% endblock %}

{% block content %}
<a href="{% url 'home' %}" class="btn btn-link">← Back to Home</a>

<div class="card">
  <div class="card-header bg-success text-white">
    <h2 class="mb-0">{{ room.title }}</h2>
  </div>
  <div class="card-body">
    {% if room.image %}
      <img src="{{ room.image.url }}" class="img-fluid mb-3 rounded" alt="Room image">
    {% else %}
      <img src="{% static 'images/no-image.jpg' %}" class="img-fluid mb-3 rounded" alt="No image available">
    {% endif %}

    <p class="text-muted mb-1"><strong>Location:</strong> {{ room.city }}{% if room.neighborhood %} • {{ room.neighborhood }}{% endif %}</p>
    {% if room.rent %}<p class="mb-1"><strong>Rent:</strong> ${{ room.rent }}</p>{% endif %}
    {% if room.available_from %}<p class="mb-3"><strong>Available from:</strong> {{ room.available_from }}</p>{% endif %}
    {% if room.description %}<p>{{ room.description }}</p>{% endif %}

    <div class="d-flex flex-wrap gap-2 mb-3">
      {% if room.halal_kitchen %}<span class="badge bg-success">Halal Kitchen</span>{% endif %}
      {% if room.prayer_friendly %}<span class="badge bg-info">Prayer Friendly</span>{% endif %}
      {% if room.guests_allowed %}<span class="badge bg-warning">Guests Allowed</span>{% endif %}
    </div>

    {% if room.contact_email %}<p><strong>Contact:</strong> {{ room.contact_email }}</p>{% endif %}
    {% if room.user %}<p class="text-muted">Posted by: {{ room.user.name }}</a></p>{% endif %}
  </div>
</div>
{% endblock %}

{% if request.user.is_authenticated and request.user.profile == room.user %}
  <a href="{% url 'room_edit' room.pk %}" class="btn btn-warning">Edit Room</a>
{% endif %}

